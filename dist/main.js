const u=({selector:r,callback:e=()=>{}})=>{const n=new MutationObserver(function(){const t=document.querySelector(r);t&&(e==null||e(t),n.disconnect())});n.observe(document,{attributes:!1,childList:!0,characterData:!1,subtree:!0})};u({selector:".b-loginreg__form",callback:r=>{r&&(r.classList.add("cl-hidden"),chrome.runtime.onMessage.addListener(function(e,n,t){var o,c;if(e.type==="CREDENTIALS"){const i=document.querySelector('[name="email"]');i&&(i.value=(o=e==null?void 0:e.payload)==null?void 0:o.email,i.dispatchEvent(new Event("input",{bubbles:!0})));const a=document.querySelector('[name="password"]');a&&(a.value=(c=e==null?void 0:e.payload)==null?void 0:c.password,a.dispatchEvent(new Event("input",{bubbles:!0})));const s=document.querySelector('[type="submit"]');if(s){s.click();const l=setTimeout(()=>{t({success:!1})},5e3);return u({selector:".l-header",callback:()=>{clearTimeout(l),t({success:!0})}}),u({selector:".error_place_form",callback:()=>{clearTimeout(l),t({success:!1})}}),!0}}}))}});chrome.runtime.onMessage.addListener(function(r,e,n){var t;if(r.type==="HANDLE"){const o=document.querySelector(".g-user-username"),c=(t=o==null?void 0:o.innerText)==null?void 0:t.replace("@","").trim();return n(c),!0}if(r.type==="REFRESH"&&location.reload(!0),r.type==="PING")return n(!0),!0});console.log("[MAIN CONTENT SCRIPT INIT]");
